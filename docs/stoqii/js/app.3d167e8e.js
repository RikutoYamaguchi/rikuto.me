webpackJsonp([1],{"+pJl":function(t,e){},"/67t":function(t,e){},0:function(t,e,n){t.exports=n("NHnr")},"41zd":function(t,e){},"8ITe":function(t,e){},A3YM:function(t,e){},G3BA:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("/5sW"),a=n("AYPi"),o=n.n(a),r=n("Biqn"),c=n.n(r),i=n("NYxO"),l={methods:c()({},Object(i["b"])("stocks",["loadStocks","fetchAllStocks"]),{onClick:function(){this.fetchAllStocks({userId:this.userId})}}),computed:c()({},Object(i["c"])("user",["userId"]),Object(i["c"])("stocks",["fetching","loading","all","error","msg"]))},u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[n("h1",{staticClass:"logo"},[t._v("Stoqii.")]),"Welcome"!==t.$route.name&&"Error"!==t.$route.name?[t.fetching?[n("p",{staticClass:"reload"},[t._v("Fetching...")])]:t.loading?[n("p",{staticClass:"reload"},[t._v("Loading...")])]:[n("a",{staticClass:"reload",attrs:{href:"javascript:;"},on:{click:t.onClick}},[t._v("Reload Stocks")])]]:t._e()],2)},d=[],g=n("XyMi");function f(t){n("/67t")}var m=!1,h=f,v="data-v-f06778c6",p=null,b=Object(g["a"])(l,u,d,m,h,v,p),k=b.exports,j=(n("EuXz"),{props:["tag"],computed:{className:function(){var t=["tag"];return this.tag.selected&&t.push("selected"),t}},methods:c()({},Object(i["b"])("tags",["toggleSelected"]),{onClick:function(){this.$ga.event({eventCategory:"Tags",eventAction:"Click",eventLabel:this.tag.name,eventValue:1}),this.toggleSelected({tag:this.tag})}})}),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{class:t.className,attrs:{href:"javascript:;"},on:{click:t.onClick}},[t._v(t._s(t.tag.name)+"("+t._s(t.tag.hasStocks.length)+")")])},C=[];function w(t){n("8ITe")}var y=!1,S=w,I="data-v-23873b83",A=null,x=Object(g["a"])(j,_,C,y,S,I,A),O=x.exports,E={data:function(){return{showAll:!1}},components:{BaseTag:O},computed:c()({},Object(i["c"])("tags",["all","top10"]),{tags:function(){return this.showAll?this.all:this.top10},showAllText:function(){return this.showAll?"Hide":"Show All Tags"}}),methods:{onClickToggleShowAll:function(){this.showAll=!this.showAll}}},z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"unit-tags"},[n("transition-group",{attrs:{name:"fade"}},t._l(t.tags,function(t){return n("base-tag",{key:t.name,attrs:{tag:t}})}))],1),n("div",{staticClass:"show-all"},[this.all.length>10?n("a",{attrs:{href:"javascript:;"},on:{click:t.onClickToggleShowAll}},[t._v(t._s(t.showAllText))]):t._e()])])},T=[];function B(t){n("sqSh")}var L=!1,N=B,P="data-v-7bd8e8e7",F=null,U=Object(g["a"])(E,z,T,L,N,P,F),q=U.exports,R={props:["contributor"],computed:{className:function(){var t=["contributor"];return this.contributor.selected&&t.push("selected"),t}},methods:c()({},Object(i["b"])("contributors",["toggleSelected"]),{onClick:function(){this.$ga.event({eventCategory:"Contributors",eventAction:"Click",eventLabel:this.contributor.name?this.contributor.name:this.contributor.id,eventValue:1}),this.toggleSelected({contributor:this.contributor})}})},W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{class:t.className,attrs:{href:"javascript:;"},on:{click:t.onClick}},[n("span",{staticClass:"ph",style:{"background-image":"url("+t.contributor.profile_image_url+")"}}),n("span",{staticClass:"name"},[t._v("\n    "+t._s(t.contributor.name?t.contributor.name:t.contributor.id)+"("+t._s(t.contributor.hasStocks.length)+")\n  ")])])},M=[];function H(t){n("A3YM")}var V=!1,$=H,Y="data-v-412feb4c",D=null,J=Object(g["a"])(R,W,M,V,$,Y,D),X=J.exports,G={data:function(){return{showAll:!1}},components:{Contributor:X},computed:c()({},Object(i["c"])("contributors",["all","top10"]),{showAllText:function(){return this.showAll?"Hide":"Show All Contributors"},contributors:function(){return this.showAll?this.all:this.top10}}),methods:{onClickToggleShowAll:function(){this.showAll=!this.showAll}}},Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"unit-contributors"},t._l(t.contributors,function(t){return n("contributor",{key:t.id,attrs:{contributor:t}})})),n("div",{staticClass:"show-all"},[this.all.length>10?n("a",{attrs:{href:"javascript:;"},on:{click:t.onClickToggleShowAll}},[t._v(t._s(t.showAllText))]):t._e()])])},Q=[];function K(t){n("x73w")}var tt=!1,et=K,nt="data-v-65891dba",st=null,at=Object(g["a"])(G,Z,Q,tt,et,nt,st),ot=at.exports,rt=null,ct={data:function(){return{searchWord:""}},components:{UnitTags:q,UnitContributors:ot},computed:c()({},Object(i["c"])("search",["word"])),methods:c()({},Object(i["b"])("search",["updateWord"])),watch:{searchWord:function(t){var e=this;null!==rt&&clearTimeout(rt),rt=setTimeout(function(){e.$ga.event({eventCategory:"Search",eventAction:"Change Word",eventLabel:t,eventValue:1})},700),this.updateWord({word:t})}},created:function(){this.searchWord=this.word}},it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidebar"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchWord,expression:"searchWord"}],staticClass:"search",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.searchWord},on:{input:function(e){e.target.composing||(t.searchWord=e.target.value)}}}),n("div",{staticClass:"sidebar-row"},[n("h2",{staticClass:"sidebar-heading"},[t._v("- Tags")]),n("unit-tags")],1),n("div",{staticClass:"sidebar-row"},[n("h2",{staticClass:"sidebar-heading"},[t._v("- Contributors")]),n("unit-contributors")],1)])},lt=[];function ut(t){n("cUgz")}var dt=!1,gt=ut,ft="data-v-2c10a662",mt=null,ht=Object(g["a"])(ct,it,lt,dt,gt,ft,mt),vt=ht.exports,pt={data:function(){return{dots:"",loadingMsg:""}},computed:c()({},Object(i["c"])("loading",["loading","msg"])),watch:{dots:function(){""!==this.msg?this.loadingMsg=this.msg+this.dots:this.loadingMsg=""}},created:function(){var t=this;setInterval(function(){t.dots.length<3?t.dots+=".":t.dots=""},500)}},bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading"},[n("div",{staticClass:"loader"}),n("p",{staticClass:"message"},[t._v(t._s(t.loadingMsg))])])])},kt=[];function jt(t){n("+pJl")}var _t=!1,Ct=jt,wt="data-v-1279b3b4",yt=null,St=Object(g["a"])(pt,bt,kt,_t,Ct,wt,yt),It=St.exports,At={name:"app",components:{TheHeader:k,TheSidebar:vt,TheLoading:It}},xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"layout"},[n("the-header"),n("div",{staticClass:"contents"},["Welcome"!==t.$route.name&&"Error"!==t.$route.name?n("div",{staticClass:"side"},[n("the-sidebar")],1):t._e(),n("div",{staticClass:"main"},[n("router-view")],1)])],1),n("the-loading")],1)},Ot=[];function Et(t){n("G3BA")}var zt=!1,Tt=Et,Bt=null,Lt=null,Nt=Object(g["a"])(At,xt,Ot,zt,Tt,Bt,Lt),Pt=Nt.exports,Ft=(n("VjuZ"),n("M4fF")),Ut=n.n(Ft),qt=n("/ocq"),Rt=n("PJh5"),Wt=n.n(Rt),Mt={props:["stock"],computed:{createAt:function(){return Wt()(this.stock.created_at).format("YYYY/MM/DD HH:mm")}},methods:{onClick:function(){this.$ga.event({eventCategory:"Stocks",eventAction:"Link Click",eventLabel:this.stock.url,eventValue:1})}}},Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"stock-item",attrs:{href:t.stock.url,target:"_blank"},on:{click:t.onClick}},[n("div",{staticClass:"user"},[n("span",{staticClass:"ph",style:{"background-image":"url("+t.stock.user.profile_image_url+")"}}),n("span",{staticClass:"text"},[n("span",{staticClass:"name"},[t._v(t._s(t.stock.user.name?t.stock.user.name:t.stock.user.id))]),t._v("\n      "+t._s(t.createAt)+"\n    ")])]),n("p",{staticClass:"title"},[t._v(t._s(t.stock.title))])])},Vt=[];function $t(t){n("41zd")}var Yt=!1,Dt=$t,Jt="data-v-08b9b9ad",Xt=null,Gt=Object(g["a"])(Mt,Ht,Vt,Yt,Dt,Jt,Xt),Zt=Gt.exports,Qt={props:["stocks"],components:{StockListItem:Zt}},Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stock-list"},[n("ul",t._l(t.stocks,function(t){return n("li",{key:t.id},[n("stock-list-item",{attrs:{stock:t}})],1)}))])},te=[];function ee(t){n("RHax")}var ne=!1,se=ee,ae="data-v-9d4401fe",oe=null,re=Object(g["a"])(Qt,Kt,te,ne,se,ae,oe),ce=re.exports,ie={name:"Home",components:{StockList:ce},methods:c()({},Object(i["b"])("stocks",["loadStocks"])),computed:c()({},Object(i["c"])("user",["userId"]),Object(i["c"])("stocks",["sortedAll","error","msg"])),created:function(){this.loadStocks()}},le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",[n("p",{directives:[{name:"show",rawName:"v-show",value:t.error&&t.msg,expression:"error && msg"}]},[t._v(t._s(t.msg))])]),n("stock-list",{attrs:{stocks:t.sortedAll}})],1)},ue=[],de=!1,ge=null,fe=null,me=null,he=Object(g["a"])(ie,le,ue,de,ge,fe,me),ve=he.exports,pe={name:"User"},be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-setting"},[t._v("\n  user setting\n")])},ke=[],je=!1,_e=null,Ce=null,we=null,ye=Object(g["a"])(pe,be,ke,je,_e,Ce,we),Se=ye.exports,Ie=n("mtWM"),Ae=n.n(Ie),xe="https://qiita.com/api/v2",Oe=100,Ee="qiita-stock",ze={namespaced:!0,state:{userId:"",isAvailable:!0,loading:!1,msg:""},mutations:{update_user_id:function(t,e){var n=e.userId;t.userId=n},set_available:function(t,e){var n=e.available,s=e.msg;t.isAvailable=n,t.msg=s},check_start:function(t){t.loading=!0},check_end:function(t){t.loading=!1}},actions:{updateUserId:function(t,e){var n=t.commit,s=e.userId;n("update_user_id",{userId:s})},checkUserId:function(t){var e=t.getters,n=t.commit,s=t.dispatch;n("check_start"),n("set_available",{available:!0,msg:"",meta:{analytics:[["event",{eventCategory:"User",eventAction:"Check",eventLabel:e.userId,eventValue:1}]]}}),Ae.a.get("".concat(xe,"/users/").concat(e.userId)).then(function(t){t.data&&t.data.id&&s("user/setUserId",{userId:t.data.id},{root:!0}).then(function(){return s("loading/startLoading",{msg:"ストック記事取得中"},{root:!0}),s("stocks/fetchAllStocksWithPromise",{userId:t.data.id},{root:!0})}).then(function(){s("loading/stopLoading",null,{root:!0}),wn.push("/")}).catch(function(t){s("loading/stopLoading",null,{root:!0}),t.available=!1,n("set_available",t)}),n("check_end")}).catch(function(t){s("loading/stopLoading",null,{root:!0}),t.response&&404===t.response.status?n("set_available",{available:!1,msg:"ユーザーIDが有効ではありませんでした。"}):n("set_available",{available:!1,msg:"Qiita APIへの接続に失敗しました。"}),n("check_end")})}},getters:{userId:function(t){return t.userId},isAvailable:function(t){return t.isAvailable},loading:function(t){return t.loading},msg:function(t){return t.msg}}},Te={props:["disabled"],methods:{onClick:function(){this.disabled||this.$emit("click")}},computed:{className:function(){var t=["button"];return this.disabled&&t.push("disabled"),t}}},Be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{class:t.className,attrs:{href:"javascript:;"},on:{click:t.onClick}},[t._t("default")],2)},Le=[];function Ne(t){n("xYZR")}var Pe=!1,Fe=Ne,Ue="data-v-0ce8344a",qe=null,Re=Object(g["a"])(Te,Be,Le,Pe,Fe,Ue,qe),We=Re.exports,Me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"unit-buttons"},[t._t("default")],2)},He=[];function Ve(t){n("pHSY")}var $e=null,Ye=!1,De=Ve,Je="data-v-da82a894",Xe=null,Ge=Object(g["a"])($e,Me,He,Ye,De,Je,Xe),Ze=Ge.exports,Qe="userForm",Ke={data:function(){return{uid:""}},components:{BaseButton:We,UnitButtons:Ze},computed:c()({},Object(i["c"])(Qe,["userId","isAvailable","loading","msg"])),methods:c()({},Object(i["b"])(Qe,["updateUserId","checkUserId"]),{onSubmit:function(){this.checkUserId()}}),watch:{uid:function(t){this.updateUserId({userId:t})}},created:function(){this.$store.registerModule(Qe,ze)},destroyed:function(){this.$store.unregisterModule(Qe)}},tn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"welcome"},[n("h1",[t._v("Welcome!")]),n("div",[t._m(0),n("form",{attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[n("div",{staticClass:"form-row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.uid,expression:"uid"}],staticClass:"uid-input",attrs:{type:"text",placeholder:"ユーザーID"},domProps:{value:t.uid},on:{input:function(e){e.target.composing||(t.uid=e.target.value)}}})]),n("unit-buttons",[n("base-button",{attrs:{disabled:!t.userId},on:{click:t.onSubmit}},[t._v("登録")])],1),n("div",{staticClass:"feed-backs"},[n("p",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]},[t._v("Checking...")]),n("p",{directives:[{name:"show",rawName:"v-show",value:!t.isAvailable,expression:"!isAvailable"}],staticClass:"error"},[t._v(t._s(t.msg))])])],1)])])},en=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"lead"},[t._v("\n      「Stoqii.」はQiitaのストック記事を簡単に検索するためのWebアプリケーションです。"),n("br"),t._v("ユーザーIDを入力してストック検索を始めましょう！\n    ")])}];function nn(t){n("ZCG9")}var sn=!1,an=nn,on="data-v-48c8e6f8",rn=null,cn=Object(g["a"])(Ke,tn,en,sn,an,on,rn),ln=cn.exports,un=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},dn=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"error"},[n("p",[t._v("エラーが発生しました。")])])}],gn=null,fn=!1,mn=null,hn=null,vn=null,pn=Object(g["a"])(gn,un,dn,fn,mn,hn,vn),bn=pn.exports;s["a"].use(qt["a"]);var kn=[{path:"/",component:ve,name:"Home"},{path:"/user",component:Se,name:"User"},{path:"/welcome",component:ln,name:"Welcome"},{path:"/error",component:bn,name:"Error"}],jn=new qt["a"]({routes:kn});function _n(t){var e=t.store;jn.beforeEach(function(t,n,s){"Welcome"===t.name?Ut.a.isEmpty(e.state.user.userId)?e.dispatch("user/loadUserId").then(function(t){Ut.a.isEmpty(t)?s():jn.replace("/")}).catch(function(){jn.push("/error")}):jn.replace("/"):"Error"===t.name?s():Ut.a.isEmpty(e.state.user.userId)?e.dispatch("user/loadUserId").then(function(t){Ut.a.isEmpty(t)?jn.replace("/welcome"):s()}).catch(function(){jn.push("/error")}):s()})}var Cn,wn=jn,yn={all:[],fetching:!1,loading:!1,error:!1,msg:""},Sn=n("fKPv"),In=n.n(Sn),An=(n("U6qc"),"fetch_stocks_start"),xn="fetch_stocks_success",On="fetch_stocks_fail",En="load_stocks_start",zn="load_stocks_success",Tn="load_stocks_fail",Bn="append_stocks",Ln="append_stocks_from_storage",Nn=(Cn={},In()(Cn,An,function(t){t.fetching=!0,t.error=!1,t.msg=""}),In()(Cn,xn,function(t){t.fetching=!1}),In()(Cn,On,function(t,e){var n=e.msg;t.fetching=!1,t.error=!0,t.msg=n}),In()(Cn,En,function(t){t.loading=!0,t.error=!1,t.msg=""}),In()(Cn,zn,function(t){t.loading=!1}),In()(Cn,Tn,function(t,e){var n=e.msg;t.loading=!1,t.error=!0,t.msg=n}),In()(Cn,Bn,function(t,e){var n=e.stocks,s=t.all;Ut()(n).each(function(e,n){var a=Ut.a.findIndex(t.all,function(t){return t.id===e.id});a>=0?s[a]=c()({},s[a],e):s.splice(n,0,c()({},e,{stoqiiTags:[]}))}),t.all=s}),In()(Cn,Ln,function(t,e){var n=e.stocks;t.all=n}),Cn),Pn=(n("y9m4"),{ARRAY:"array",OBJECT:"object",NUMBER:"number",STRING:"string"});function Fn(t,e){var n="";return Ut.a.isArray(e)?n=Pn.ARRAY:Ut.a.isObject(e)?n=Pn.OBJECT:Ut.a.isNumber(e)?n=Pn.NUMBER:Ut.a.isString(e)&&(n=Pn.STRING),n!==Pn.ARRAY&&n!==Pn.OBJECT||(e=JSON.stringify(e)),new Promise(function(s,a){try{localStorage.setItem("".concat(Ee,"_").concat(t),e),localStorage.setItem("".concat(Ee,"_").concat(t,"_type"),n),s({key:"".concat(Ee,"_").concat(t),val:e})}catch(t){console.log(t),a(t)}})}function Un(t){return new Promise(function(e,n){try{var s=localStorage.getItem("".concat(Ee,"_").concat(t)),a=localStorage.getItem("".concat(Ee,"_").concat(t,"_type"));a!==Pn.ARRAY&&a!==Pn.OBJECT||(s=JSON.parse(s)),e(s)}catch(t){console.log(t),n(t)}})}function qn(t){return delete t.body,delete t.coediting,delete t.group,delete t.private,delete t.user.facebook_id,delete t.user.followees_count,delete t.user.followers_count,delete t.user.github_login_name,delete t.user.items_count,delete t.user.linkedin_id,delete t.user.location,delete t.user.organization,delete t.user.permanent_id,delete t.user.twitter_screen_name,delete t.user.website_url,t.rendered_body=t.rendered_body.replace(/<("[^"]*"|'[^']*'|[^'">])*>/g,""),t.rendered_body=t.rendered_body.slice(0,99),t}function Rn(t){var e=t.userId;return new Promise(function(t,n){var s=[];function a(o){var r=o.page,c=o.perPage;Ae.a.get("".concat(xe,"/users/").concat(e,"/stocks"),{params:{page:r,per_page:c}}).then(function(e){Ut.a.isArray(e.data)&&e.data.length>0?(s=s.concat(Ut.a.map(e.data,function(t){return qn(t)})),a({page:r+1,perPage:c})):t(s)}).catch(function(t){t.msg="Qiita APIへの接続に失敗しました。",n(t)})}a({page:1,perPage:Oe})})}var Wn,Mn={fetchAllStocks:function(t,e){var n=t.state,s=t.commit,a=t.dispatch,o=e.userId;s(An,{meta:{analytics:[["event",{eventCategory:"Stocks",eventAction:"FetchStart",eventLabel:o,eventValue:1}]]}}),a("loading/startLoading",{msg:"ストック記事再取得中"},{root:!0}),Rn({userId:o}).then(function(t){s(Bn,{stocks:t}),Fn("stocks",n.all).then(function(){a("loading/stopLoading",null,{root:!0}),a("tags/addTagByStocks",{stocks:t},{root:!0}),a("contributors/addContributorByStocks",{stocks:t},{root:!0}),s(xn,{meta:{analytics:[["event",{eventCategory:"Stocks",eventAction:"FetchSuccess",eventLabel:o,eventValue:1}]]}})}).catch(function(t){a("loading/stopLoading",null,{root:!0}),t.msg="ローカルストレージへの書き込みに失敗しました。",s(On,c()({},t,{meta:{analytics:[["event",{eventCategory:"Stocks",eventAction:"FetchFail",eventLabel:o,eventValue:1}]]}}))})}).catch(function(t){a("loading/stopLoading",null,{root:!0}),s(On,c()({},t,{meta:{analytics:[["event",{eventCategory:"Stocks",eventAction:"FetchFail",eventLabel:o,eventValue:1}]]}}))})},fetchAllStocksWithPromise:function(t,e){var n=t.state,s=t.commit,a=t.dispatch,o=e.userId;return new Promise(function(t,e){s(An,{meta:{analytics:[["event",{eventCategory:"Stocks",eventAction:"FetchStart",eventLabel:o,eventValue:1}]]}}),Rn({userId:o}).then(function(r){s(Bn,{stocks:r}),Fn("stocks",n.all).then(function(){a("tags/addTagByStocks",{stocks:r},{root:!0}),a("contributors/addContributorByStocks",{stocks:r},{root:!0}),s(xn,{meta:{analytics:[["event",{eventCategory:"Stocks",eventAction:"FetchSuccess",eventLabel:o,eventValue:1}]]}}),t()}).catch(function(t){t.msg="ローカルストレージへの書き込みに失敗しました。",s(On,c()({},t,{meta:{analytics:[["event",{eventCategory:"Stocks",eventAction:"FetchFail",eventLabel:o,eventValue:1}]]}})),e(t)})}).catch(function(t){s(On,c()({},t,{meta:{analytics:[["event",{eventCategory:"Stocks",eventAction:"FetchFail",eventLabel:o,eventValue:1}]]}})),e(t)})})},loadStocks:function(t){var e=t.commit,n=t.dispatch;e(En),Un("stocks").then(function(t){t&&(e(Ln,{stocks:t}),n("tags/addTagByStocks",{stocks:t},{root:!0}),n("contributors/addContributorByStocks",{stocks:t},{root:!0})),e(zn)}).catch(function(){e(Tn,{msg:"ローカルストレージの読み込みに失敗しました。"})})},fetchStocks:function(t,e){var n=t.commit,s=t.dispatch,a=e.userId,o=e.page,r=e.perPage;n(An),Ae.a.get("".concat(xe,"/users/").concat(a,"/stocks"),{params:{page:o,per_page:r}}).then(function(t){Ut.a.isArray(t.data)&&t.data.length>0&&n(Bn,Ut.a.map(t.data,function(t){return qn(t)})),s("tags/addTagByStocks",{stocks:t.data},{root:!0}),s("contributors/addContributorByStocks",{stocks:t.data},{root:!0}),n(xn)}).catch(function(t){t.msg="Qiita APIへの接続に失敗しました。",n(On)})}},Hn=(n("MfeA"),{all:function(t){return t.all},fetching:function(t){return t.fetching},loading:function(t){return t.loading},error:function(t){return t.error},msg:function(t){return t.msg},sortedAll:function(t,e,n,s){var a=e.all,o=s["tags/selectedTags"],r=s["contributors/selectedContributors"],c=s["search/word"],i=a;if(o.length>0&&(i=Ut()(i).filter(function(t){var e=!1;return Ut.a.each(o,function(n){if(Ut.a.findIndex(t.tags,function(t){return t.name===n.name})>=0)return e=!0,!1}),e}).value()),r.length>0&&(i=Ut()(i).filter(function(t){var e=!1;return Ut.a.each(r,function(n){if(t.user.id===n.id)return e=!0,!1}),e}).value()),""!==c){var l=new RegExp(c,"gi");i=Ut()(i).filter(function(t){var e=t.title.match(l),n=t.rendered_body.match(l);return e||n}).value()}return i}}),Vn={namespaced:!0,state:yn,mutations:Nn,actions:Mn,getters:Hn},$n={userId:null,loading:!1},Yn="set_user_id",Dn="load_storage",Jn="load_storage_success",Xn="load_storage_fail",Gn=(Wn={},In()(Wn,Yn,function(t,e){var n=e.userId;t.userId=n}),In()(Wn,Dn,function(t){t.loading=!0}),In()(Wn,Jn,function(t){t.loading=!1}),In()(Wn,Xn,function(t){t.loading=!1}),Wn),Zn={loadUserId:function(t){var e=t.commit;return e(Dn),Un("userId").then(function(t){return e(Yn,{userId:t}),Promise.resolve(t)}).catch(function(t){return t.msg="ユーザーIDのロードに失敗しました。",Promise.reject(t)})},setUserId:function(t,e){var n=t.commit,s=e.userId;return n(Dn),Fn("userId",s).then(function(t){return n(Yn,{userId:s}),Promise.resolve(t)}).catch(function(t){return t.msg="ユーザーIDの保存に失敗しました。",Promise.reject(t)})}},Qn={userId:function(t){return t.userId}},Kn={namespaced:!0,state:$n,mutations:Gn,actions:Zn,getters:Qn},ts={namespaced:!0,state:{loading:!1,msg:""},mutations:{loading_start:function(t){t.loading=!0},loading_end:function(t){t.loading=!1},set_msg:function(t,e){var n=e.msg;t.msg=n},remove_msg:function(t){t.msg=""}},actions:{startLoading:function(t,e){var n=t.commit,s=e.msg;n("loading_start"),s&&n("set_msg",{msg:s})},stopLoading:function(t){var e=t.commit;e("loading_end"),e("remove_msg")},setMsg:function(t,e){var n=t.commit,s=e.msg;n("set_msg",{msg:s})},removeMsg:function(t){var e=t.commit;e("remove_msg")}},getters:{msg:function(t){return t.msg},loading:function(t){return t.loading}}},es={namespaced:!0,state:{all:[]},mutations:{add_tag:function(t,e){var n=e.tag;t.all.push(n)},count_up:function(t,e){var n=e.targetIndex,s=e.stock;t.all[n].hasStocks.push(s.id)},select_tag:function(t,e){var n=e.targetIndex;s["a"].set(t.all,n,c()({},t.all[n],{selected:!0}))},deselect_tag:function(t,e){var n=e.targetIndex;s["a"].set(t.all,n,c()({},t.all[n],{selected:!1}))}},actions:{addTag:function(t,e){var n=t.state,s=t.commit,a=e.tag,o=e.stock,r=Ut.a.findIndex(n.all,function(t){return t.name===a.name});if(r<0)a.hasStocks=[o.id],a.selected=!1,s("add_tag",{tag:a});else{var c=n.all[r];Ut.a.findIndex(c.hasStocks,function(t){return t===o.id})<0&&s("count_up",{targetIndex:r,stock:o})}},addTagByStocks:function(t,e){var n=t.dispatch,s=e.stocks;Ut.a.each(s,function(t){Ut.a.isArray(t.tags)&&t.tags.length>0&&Ut.a.each(t.tags,function(e){n("addTag",{tag:e,stock:t})})})},toggleSelected:function(t,e){var n=t.state,s=t.commit,a=e.tag,o=Ut.a.findIndex(n.all,function(t){return t.name===a.name});n.all[o].selected?s("deselect_tag",{targetIndex:o}):s("select_tag",{targetIndex:o})}},getters:{all:function(t){return Ut.a.orderBy(t.all,[function(t){return t.hasStocks.length}],["desc"])},top10:function(t,e){return Ut()(e.all).orderBy([function(t){return t.hasStocks.length}],["desc"]).take(10).value()},selectedTags:function(t){return Ut.a.filter(t.all,function(t){return t.selected})}}},ns={namespaced:!0,state:{all:[]},mutations:{add_contributor:function(t,e){var n=e.contributor;t.all.push(n)},count_up:function(t,e){var n=e.targetIndex,s=e.stock;t.all[n].hasStocks.push(s.id)},select_contributor:function(t,e){var n=e.targetIndex;s["a"].set(t.all,n,c()({},t.all[n],{selected:!0}))},deselect_contributor:function(t,e){var n=e.targetIndex;s["a"].set(t.all,n,c()({},t.all[n],{selected:!1}))}},actions:{addContributor:function(t,e){var n=t.state,s=t.commit,a=e.contributor,o=e.stock,r=Ut.a.findIndex(n.all,function(t){return t.id===a.id});if(r<0)a.hasStocks=[o.id],a.selected=!1,s("add_contributor",{contributor:a});else{var c=n.all[r];Ut.a.findIndex(c.hasStocks,function(t){return t===o.id})<0&&s("count_up",{targetIndex:r,stock:o})}},addContributorByStocks:function(t,e){var n=t.dispatch,s=e.stocks;Ut.a.each(s,function(t){n("addContributor",{contributor:t.user,stock:t})})},toggleSelected:function(t,e){var n=t.state,s=t.commit,a=e.contributor,o=Ut.a.findIndex(n.all,function(t){return t.id===a.id});o>=0&&(n.all[o].selected?s("deselect_contributor",{targetIndex:o}):s("select_contributor",{targetIndex:o}))}},getters:{all:function(t){return Ut.a.orderBy(t.all,[function(t){return t.hasStocks.length}],["desc"])},top10:function(t,e){return Ut()(e.all).orderBy([function(t){return t.hasStocks.length}],["desc"]).take(8).value()},selectedContributors:function(t){return Ut.a.filter(t.all,function(t){return t.selected})}}},ss={namespaced:!0,state:{word:""},mutations:{update_word:function(t,e){var n=e.word;t.word=n}},actions:{updateWord:function(t,e){var n=t.commit,s=e.word;n("update_word",{word:s})}},getters:{word:function(t){return t.word}}};s["a"].use(i["a"]);var as=new i["a"].Store({modules:{stocks:Vn,user:Kn,loading:ts,tags:es,contributors:ns,search:ss},plugins:[a["analyticsMiddleware"]]}),os=n("ydGU");Object(os["a"])("".concat("/stoqii/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),s["a"].config.productionTip=!1,s["a"].use(o.a,{id:"UA-119223294-1",router:wn}),_n({store:as}),new s["a"]({store:as,router:wn,render:function(t){return t(Pt)}}).$mount("#app")},RHax:function(t,e){},ZCG9:function(t,e){},cUgz:function(t,e){},pHSY:function(t,e){},sqSh:function(t,e){},uslO:function(t,e,n){var s={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function a(t){return n(o(t))}function o(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}a.keys=function(){return Object.keys(s)},a.resolve=o,t.exports=a,a.id="uslO"},x73w:function(t,e){},xYZR:function(t,e){}},[0]);
//# sourceMappingURL=app.3d167e8e.js.map