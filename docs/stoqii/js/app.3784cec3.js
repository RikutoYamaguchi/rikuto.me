webpackJsonp([1],{"+pJl":function(t,e){},0:function(t,e,n){t.exports=n("NHnr")},"7UBK":function(t,e){},"8ITe":function(t,e){},G3BA:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("/5sW"),a=n("AYPi"),o=n.n(a),r=n("Biqn"),c=n.n(r),i=n("NYxO"),l={methods:c()({},Object(i["b"])("stocks",["loadStocks","fetchAllStocks"]),{onClick:function(){this.fetchAllStocks({userId:this.userId})}}),computed:c()({},Object(i["c"])("user",["userId"]),Object(i["c"])("stocks",["fetching","loading","all","error","msg"]))},u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",[s("h1",{staticClass:"logo"},[t._v("Stoqii.")]),"Welcome"!==t.$route.name&&"Error"!==t.$route.name?[t.fetching?[t._m(0)]:t.loading?[s("p",{staticClass:"reload"},[t._v("Loading...")])]:[s("a",{staticClass:"reload",attrs:{href:"javascript:;"},on:{click:t.onClick}},[s("img",{attrs:{src:n("Z1sa"),width:"12",height:"12"}}),s("span",[t._v("Reload Stocks")])])]]:t._e()],2)},d=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"reload"},[s("img",{staticClass:"spin",attrs:{src:n("Z1sa"),width:"12",height:"12"}}),s("span",[t._v("Fetching...")])])}],g=n("XyMi");function m(t){n("iFJr")}var f=!1,h=m,v="data-v-eeaf614e",p=null,b=Object(g["a"])(l,u,d,f,h,v,p),_=b.exports,k=(n("EuXz"),{props:["tag"],computed:{className:function(){var t=["tag"];return this.tag.selected&&t.push("selected"),t}},methods:c()({},Object(i["b"])("tags",["toggleSelected"]),{onClick:function(){this.$ga.event({eventCategory:"Tags",eventAction:"Click",eventLabel:this.tag.name,eventValue:1}),this.toggleSelected({tag:this.tag})}})}),j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{class:t.className,attrs:{href:"javascript:;"},on:{click:t.onClick}},[t._v(t._s(t.tag.name)+"("+t._s(t.tag.hasStocks.length)+")")])},y=[];function C(t){n("8ITe")}var w=!1,I=C,S="data-v-23873b83",x=null,A=Object(g["a"])(k,j,y,w,I,S,x),O=A.exports,T={data:function(){return{showAll:!1}},components:{BaseTag:O},computed:c()({},Object(i["c"])("tags",["all","top10"]),{tags:function(){return this.showAll?this.all:this.top10},showAllText:function(){return this.showAll?"Hide":"Show All Tags"}}),methods:{onClickToggleShowAll:function(){this.showAll=!this.showAll}}},E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"unit-tags"},t._l(t.tags,function(t){return n("base-tag",{key:t.name,attrs:{tag:t}})})),n("div",{staticClass:"show-all"},[this.all.length>10?n("a",{attrs:{href:"javascript:;"},on:{click:t.onClickToggleShowAll}},[t._v(t._s(t.showAllText))]):t._e()])])},B=[];function L(t){n("dunn")}var z=!1,P=L,N="data-v-03e008a4",F=null,U=Object(g["a"])(T,E,B,z,P,N,F),R=U.exports,W={props:["contributor"],computed:{className:function(){var t=["contributor"];return this.contributor.selected&&t.push("selected"),t}},methods:c()({},Object(i["b"])("contributors",["toggleSelected"]),{onClick:function(){this.$ga.event({eventCategory:"Contributors",eventAction:"Click",eventLabel:this.contributor.name?this.contributor.name:this.contributor.id,eventValue:1}),this.toggleSelected({contributor:this.contributor})}})},q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{class:t.className,attrs:{href:"javascript:;"},on:{click:t.onClick}},[n("span",{staticClass:"ph",style:{"background-image":"url("+t.contributor.profile_image_url+")"}}),n("span",{staticClass:"name"},[t._v("\n    "+t._s(t.contributor.name?t.contributor.name:t.contributor.id)+"("+t._s(t.contributor.hasStocks.length)+")\n  ")])])},$=[];function M(t){n("7UBK")}var V=!1,H=M,D="data-v-e76be212",J=null,X=Object(g["a"])(W,q,$,V,H,D,J),Y=X.exports,G={data:function(){return{showAll:!1}},components:{Contributor:Y},computed:c()({},Object(i["c"])("contributors",["all","top10"]),{showAllText:function(){return this.showAll?"Hide":"Show All Contributors"},contributors:function(){return this.showAll?this.all:this.top10}}),methods:{onClickToggleShowAll:function(){this.showAll=!this.showAll}}},Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"unit-contributors"},t._l(t.contributors,function(t){return n("contributor",{key:t.id,attrs:{contributor:t}})})),n("div",{staticClass:"show-all"},[this.all.length>10?n("a",{attrs:{href:"javascript:;"},on:{click:t.onClickToggleShowAll}},[t._v(t._s(t.showAllText))]):t._e()])])},K=[];function Q(t){n("x73w")}var tt=!1,et=Q,nt="data-v-65891dba",st=null,at=Object(g["a"])(G,Z,K,tt,et,nt,st),ot=at.exports,rt=null,ct={data:function(){return{searchWord:""}},components:{UnitTags:R,UnitContributors:ot},computed:c()({},Object(i["c"])("search",["word"])),methods:c()({},Object(i["b"])("search",["updateWord"])),watch:{searchWord:function(t){var e=this;null!==rt&&clearTimeout(rt),rt=setTimeout(function(){e.$ga.event({eventCategory:"Search",eventAction:"Change Word",eventLabel:t,eventValue:1})},700),this.updateWord({word:t})}},created:function(){this.searchWord=this.word}},it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidebar"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchWord,expression:"searchWord"}],staticClass:"search",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.searchWord},on:{input:function(e){e.target.composing||(t.searchWord=e.target.value)}}}),n("div",{staticClass:"sidebar-row tags"},[n("h2",{staticClass:"sidebar-heading"},[t._v("- Tags")]),n("unit-tags")],1),n("div",{staticClass:"sidebar-row contributors"},[n("h2",{staticClass:"sidebar-heading"},[t._v("- Contributors")]),n("unit-contributors")],1)])},lt=[];function ut(t){n("X5gp")}var dt=!1,gt=ut,mt="data-v-6936b4ce",ft=null,ht=Object(g["a"])(ct,it,lt,dt,gt,mt,ft),vt=ht.exports,pt={data:function(){return{dots:"",loadingMsg:""}},computed:c()({},Object(i["c"])("loading",["loading","msg"])),watch:{dots:function(){""!==this.msg?this.loadingMsg=this.msg+this.dots:this.loadingMsg=""}},created:function(){var t=this;setInterval(function(){t.dots.length<3?t.dots+=".":t.dots=""},500)}},bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading"},[n("div",{staticClass:"loader"}),n("p",{staticClass:"message"},[t._v(t._s(t.loadingMsg))])])])},_t=[];function kt(t){n("+pJl")}var jt=!1,yt=kt,Ct="data-v-1279b3b4",wt=null,It=Object(g["a"])(pt,bt,_t,jt,yt,Ct,wt),St=It.exports,xt={name:"app",components:{TheHeader:_,TheSidebar:vt,TheLoading:St}},At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"layout"},[n("the-header"),n("div",{staticClass:"contents"},["Welcome"!==t.$route.name&&"Error"!==t.$route.name?n("div",{staticClass:"side"},[n("the-sidebar")],1):t._e(),n("div",{staticClass:"main"},[n("router-view")],1)])],1),n("the-loading")],1)},Ot=[];function Tt(t){n("G3BA")}var Et=!1,Bt=Tt,Lt=null,zt=null,Pt=Object(g["a"])(xt,At,Ot,Et,Bt,Lt,zt),Nt=Pt.exports,Ft=(n("VjuZ"),n("M4fF")),Ut=n.n(Ft),Rt=n("/ocq"),Wt=(n("WpTh"),n("PJh5")),qt=n.n(Wt),$t={props:["stock"],computed:{createAt:function(){return qt()(this.stock.created_at).format("YYYY/MM/DD HH:mm")}},methods:{onClick:function(){this.$ga.event({eventCategory:"Stocks",eventAction:"Link Click",eventLabel:this.stock.url,eventValue:1})}}},Mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"stock-item",attrs:{href:t.stock.url,target:"_blank"},on:{click:t.onClick}},[n("div",{staticClass:"user"},[n("span",{staticClass:"ph",style:{"background-image":"url("+t.stock.user.profile_image_url+")"}}),n("span",{staticClass:"text"},[n("span",{staticClass:"name"},[t._v(t._s(t.stock.user.name?t.stock.user.name:t.stock.user.id))]),t._v("\n      "+t._s(t.createAt)+"\n    ")])]),n("p",{staticClass:"title"},[t._v(t._s(t.stock.title))]),n("div",{staticClass:"counts"},[t._m(0),n("span",[t._v(" "+t._s(t.stock.likes_count))]),t._m(1),n("span",[t._v(" "+t._s(t.stock.comments_count))])])])},Vt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon-like"},[s("img",{attrs:{src:n("xR8I"),width:"14",height:"14",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon-comment"},[s("img",{attrs:{src:n("UDPI"),width:"14",height:"14",alt:""}})])}];function Ht(t){n("o2in")}var Dt=!1,Jt=Ht,Xt="data-v-a3fbb198",Yt=null,Gt=Object(g["a"])($t,Mt,Vt,Dt,Jt,Xt,Yt),Zt=Gt.exports,Kt={props:["stocks"],data:function(){return{orderList:[{value:"0",name:"ストック登録順"},{value:"1",name:"投稿日順"},{value:"2",name:"いいね数順"},{value:"3",name:"コメント数順"}],order:"0"}},created:function(){this.order=this.orderType},methods:c()({},Object(i["b"])("stocks",["setOrderType"])),watch:{order:function(t){this.setOrderType({orderType:t})}},computed:c()({},Object(i["c"])("stocks",["orderType"]),{selectedOrder:function(){var t=this;return Ut.a.find(this.orderList,function(e){return e.value===t.order})}}),components:{StockListItem:Zt}},Qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stock-list"},[n("div",{staticClass:"order-setting"},[n("span",{staticClass:"display-number"},[t._v("Count: "+t._s(t.stocks.length))]),n("div",{staticClass:"order-pseudo-select"},[n("p",[t._v(t._s(t.selectedOrder.name))]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.order,expression:"order"}],staticClass:"order-select",attrs:{name:"",id:""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.order=e.target.multiple?n:n[0]}}},t._l(t.orderList,function(e){return n("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.name))])}))])]),n("ul",t._l(t.stocks,function(t){return n("li",{key:t.id},[n("stock-list-item",{attrs:{stock:t}})],1)}))])},te=[];function ee(t){n("gL1c")}var ne=!1,se=ee,ae="data-v-47af7b42",oe=null,re=Object(g["a"])(Kt,Qt,te,ne,se,ae,oe),ce=re.exports,ie={name:"Home",components:{StockList:ce},methods:c()({},Object(i["b"])("stocks",["loadStocks"])),computed:c()({},Object(i["c"])("user",["userId"]),Object(i["c"])("stocks",["sortedAll","error","msg"])),created:function(){this.loadStocks()}},le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",[n("p",{directives:[{name:"show",rawName:"v-show",value:t.error&&t.msg,expression:"error && msg"}]},[t._v(t._s(t.msg))])]),n("stock-list",{attrs:{stocks:t.sortedAll}})],1)},ue=[],de=!1,ge=null,me=null,fe=null,he=Object(g["a"])(ie,le,ue,de,ge,me,fe),ve=he.exports,pe={name:"User"},be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-setting"},[t._v("\n  user setting\n")])},_e=[],ke=!1,je=null,ye=null,Ce=null,we=Object(g["a"])(pe,be,_e,ke,je,ye,Ce),Ie=we.exports,Se=n("mtWM"),xe=n.n(Se),Ae="https://qiita.com/api/v2",Oe=100,Te="qiita-stock",Ee={namespaced:!0,state:{userId:"",isAvailable:!0,loading:!1,msg:""},mutations:{update_user_id:function(t,e){var n=e.userId;t.userId=n},set_available:function(t,e){var n=e.available,s=e.msg;t.isAvailable=n,t.msg=s},check_start:function(t){t.loading=!0},check_end:function(t){t.loading=!1}},actions:{updateUserId:function(t,e){var n=t.commit,s=e.userId;n("update_user_id",{userId:s})},checkUserId:function(t){var e=t.getters,n=t.commit,s=t.dispatch;n("check_start"),n("set_available",{available:!0,msg:"",meta:{analytics:[["event",{eventCategory:"User",eventAction:"Check",eventLabel:e.userId,eventValue:1}]]}}),xe.a.get("".concat(Ae,"/users/").concat(e.userId)).then(function(t){t.data&&t.data.id&&s("user/setUserId",{userId:t.data.id},{root:!0}).then(function(){return s("loading/startLoading",{msg:"ストック記事取得中"},{root:!0}),s("stocks/fetchAllStocksWithPromise",{userId:t.data.id},{root:!0})}).then(function(){s("loading/stopLoading",null,{root:!0}),Cn.push("/")}).catch(function(t){s("loading/stopLoading",null,{root:!0}),t.available=!1,n("set_available",t)}),n("check_end")}).catch(function(t){s("loading/stopLoading",null,{root:!0}),t.response&&404===t.response.status?n("set_available",{available:!1,msg:"ユーザーIDが有効ではありませんでした。"}):n("set_available",{available:!1,msg:"Qiita APIへの接続に失敗しました。"}),n("check_end")})}},getters:{userId:function(t){return t.userId},isAvailable:function(t){return t.isAvailable},loading:function(t){return t.loading},msg:function(t){return t.msg}}},Be={props:["disabled"],methods:{onClick:function(){this.disabled||this.$emit("click")}},computed:{className:function(){var t=["button"];return this.disabled&&t.push("disabled"),t}}},Le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{class:t.className,attrs:{href:"javascript:;"},on:{click:t.onClick}},[t._t("default")],2)},ze=[];function Pe(t){n("xYZR")}var Ne=!1,Fe=Pe,Ue="data-v-0ce8344a",Re=null,We=Object(g["a"])(Be,Le,ze,Ne,Fe,Ue,Re),qe=We.exports,$e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"unit-buttons"},[t._t("default")],2)},Me=[];function Ve(t){n("pHSY")}var He=null,De=!1,Je=Ve,Xe="data-v-da82a894",Ye=null,Ge=Object(g["a"])(He,$e,Me,De,Je,Xe,Ye),Ze=Ge.exports,Ke="userForm",Qe={data:function(){return{uid:""}},components:{BaseButton:qe,UnitButtons:Ze},computed:c()({},Object(i["c"])(Ke,["userId","isAvailable","loading","msg"])),methods:c()({},Object(i["b"])(Ke,["updateUserId","checkUserId"]),{onSubmit:function(){this.checkUserId()}}),watch:{uid:function(t){this.updateUserId({userId:t})}},created:function(){this.$store.registerModule(Ke,Ee)},destroyed:function(){this.$store.unregisterModule(Ke)}},tn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"welcome"},[n("h1",[t._v("Welcome!")]),n("div",[t._m(0),n("form",{attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[n("div",{staticClass:"form-row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.uid,expression:"uid"}],staticClass:"uid-input",attrs:{type:"text",placeholder:"ユーザーID"},domProps:{value:t.uid},on:{input:function(e){e.target.composing||(t.uid=e.target.value)}}})]),n("unit-buttons",[n("base-button",{attrs:{disabled:!t.userId},on:{click:t.onSubmit}},[t._v("登録")])],1),n("div",{staticClass:"feed-backs"},[n("p",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]},[t._v("Checking...")]),n("p",{directives:[{name:"show",rawName:"v-show",value:!t.isAvailable,expression:"!isAvailable"}],staticClass:"error"},[t._v(t._s(t.msg))])])],1)])])},en=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"lead"},[t._v("\n      「Stoqii.」はQiitaのストック記事を簡単に検索するためのWebアプリケーションです。"),n("br"),t._v("ユーザーIDを入力してストック検索を始めましょう！\n    ")])}];function nn(t){n("ZCG9")}var sn=!1,an=nn,on="data-v-48c8e6f8",rn=null,cn=Object(g["a"])(Qe,tn,en,sn,an,on,rn),ln=cn.exports,un=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},dn=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"error"},[n("p",[t._v("エラーが発生しました。")])])}],gn=null,mn=!1,fn=null,hn=null,vn=null,pn=Object(g["a"])(gn,un,dn,mn,fn,hn,vn),bn=pn.exports;s["a"].use(Rt["a"]);var _n=[{path:"/",component:ve,name:"Home"},{path:"/user",component:Ie,name:"User"},{path:"/welcome",component:ln,name:"Welcome"},{path:"/error",component:bn,name:"Error"}],kn=new Rt["a"]({routes:_n});function jn(t){var e=t.store;kn.beforeEach(function(t,n,s){"Welcome"===t.name?Ut.a.isEmpty(e.state.user.userId)?e.dispatch("user/loadUserId").then(function(t){Ut.a.isEmpty(t)?s():kn.replace("/")}).catch(function(){kn.push("/error")}):kn.replace("/"):"Error"===t.name?s():Ut.a.isEmpty(e.state.user.userId)?e.dispatch("user/loadUserId").then(function(t){Ut.a.isEmpty(t)?kn.replace("/welcome"):s()}).catch(function(){kn.push("/error")}):s()})}var yn,Cn=kn,wn={all:[],fetching:!1,loading:!1,error:!1,orderType:"0",msg:""},In=n("fKPv"),Sn=n.n(In),xn=(n("U6qc"),"fetch_stocks_start"),An="fetch_stocks_success",On="fetch_stocks_fail",Tn="load_stocks_start",En="load_stocks_success",Bn="load_stocks_fail",Ln="append_stocks",zn="append_stocks_from_storage",Pn="set_order_type",Nn=(yn={},Sn()(yn,xn,function(t){t.fetching=!0,t.error=!1,t.msg=""}),Sn()(yn,An,function(t){t.fetching=!1}),Sn()(yn,On,function(t,e){var n=e.msg;t.fetching=!1,t.error=!0,t.msg=n}),Sn()(yn,Tn,function(t){t.loading=!0,t.error=!1,t.msg=""}),Sn()(yn,En,function(t){t.loading=!1}),Sn()(yn,Bn,function(t,e){var n=e.msg;t.loading=!1,t.error=!0,t.msg=n}),Sn()(yn,Ln,function(t,e){var n=e.stocks,s=t.all;Ut()(n).each(function(e,n){var a=Ut.a.findIndex(t.all,function(t){return t.id===e.id});a>=0?s[a]=c()({},s[a],e):s.splice(n,0,c()({},e,{stoqiiTags:[]}))}),t.all=s}),Sn()(yn,zn,function(t,e){var n=e.stocks;t.all=n}),Sn()(yn,Pn,function(t,e){var n=e.orderType;t.orderType=n}),yn),Fn=(n("y9m4"),{ARRAY:"array",OBJECT:"object",NUMBER:"number",STRING:"string"});function Un(t,e){var n="";return Ut.a.isArray(e)?n=Fn.ARRAY:Ut.a.isObject(e)?n=Fn.OBJECT:Ut.a.isNumber(e)?n=Fn.NUMBER:Ut.a.isString(e)&&(n=Fn.STRING),n!==Fn.ARRAY&&n!==Fn.OBJECT||(e=JSON.stringify(e)),new Promise(function(s,a){try{localStorage.setItem("".concat(Te,"_").concat(t),e),localStorage.setItem("".concat(Te,"_").concat(t,"_type"),n),s({key:"".concat(Te,"_").concat(t),val:e})}catch(t){console.log(t),a(t)}})}function Rn(t){return new Promise(function(e,n){try{var s=localStorage.getItem("".concat(Te,"_").concat(t)),a=localStorage.getItem("".concat(Te,"_").concat(t,"_type"));a!==Fn.ARRAY&&a!==Fn.OBJECT||(s=JSON.parse(s)),e(s)}catch(t){console.log(t),n(t)}})}function Wn(t){return delete t.body,delete t.coediting,delete t.group,delete t.private,delete t.user.facebook_id,delete t.user.followees_count,delete t.user.followers_count,delete t.user.github_login_name,delete t.user.items_count,delete t.user.linkedin_id,delete t.user.location,delete t.user.organization,delete t.user.permanent_id,delete t.user.twitter_screen_name,delete t.user.website_url,t.rendered_body=t.rendered_body.replace(/<("[^"]*"|'[^']*'|[^'">])*>/g,""),t.rendered_body=t.rendered_body.slice(0,99),t}function qn(t){var e=t.userId;return new Promise(function(t,n){var s=[];function a(o){var r=o.page,c=o.perPage;xe.a.get("".concat(Ae,"/users/").concat(e,"/stocks"),{params:{page:r,per_page:c}}).then(function(e){Ut.a.isArray(e.data)&&e.data.length>0?(s=s.concat(Ut.a.map(e.data,function(t){return Wn(t)})),a({page:r+1,perPage:c})):t(s)}).catch(function(t){t.msg="Qiita APIへの接続に失敗しました。",n(t)})}a({page:1,perPage:Oe})})}var $n,Mn={fetchAllStocks:function(t,e){var n=t.state,s=t.commit,a=t.dispatch,o=e.userId;s(xn,{meta:{analytics:[["event",{eventCategory:"Stocks",eventAction:"FetchStart",eventLabel:o,eventValue:1}]]}}),a("loading/startLoading",{msg:"ストック記事再取得中"},{root:!0}),qn({userId:o}).then(function(t){s(Ln,{stocks:t}),Un("stocks",n.all).then(function(){a("loading/stopLoading",null,{root:!0}),a("tags/addTagByStocks",{stocks:t},{root:!0}),a("contributors/addContributorByStocks",{stocks:t},{root:!0}),s(An,{meta:{analytics:[["event",{eventCategory:"Stocks",eventAction:"FetchSuccess",eventLabel:o,eventValue:1}]]}})}).catch(function(t){a("loading/stopLoading",null,{root:!0}),t.msg="ローカルストレージへの書き込みに失敗しました。",s(On,c()({},t,{meta:{analytics:[["event",{eventCategory:"Stocks",eventAction:"FetchFail",eventLabel:o,eventValue:1}]]}}))})}).catch(function(t){a("loading/stopLoading",null,{root:!0}),s(On,c()({},t,{meta:{analytics:[["event",{eventCategory:"Stocks",eventAction:"FetchFail",eventLabel:o,eventValue:1}]]}}))})},fetchAllStocksWithPromise:function(t,e){var n=t.state,s=t.commit,a=t.dispatch,o=e.userId;return new Promise(function(t,e){s(xn,{meta:{analytics:[["event",{eventCategory:"Stocks",eventAction:"FetchStart",eventLabel:o,eventValue:1}]]}}),qn({userId:o}).then(function(r){s(Ln,{stocks:r}),Un("stocks",n.all).then(function(){a("tags/addTagByStocks",{stocks:r},{root:!0}),a("contributors/addContributorByStocks",{stocks:r},{root:!0}),s(An,{meta:{analytics:[["event",{eventCategory:"Stocks",eventAction:"FetchSuccess",eventLabel:o,eventValue:1}]]}}),t()}).catch(function(t){t.msg="ローカルストレージへの書き込みに失敗しました。",s(On,c()({},t,{meta:{analytics:[["event",{eventCategory:"Stocks",eventAction:"FetchFail",eventLabel:o,eventValue:1}]]}})),e(t)})}).catch(function(t){s(On,c()({},t,{meta:{analytics:[["event",{eventCategory:"Stocks",eventAction:"FetchFail",eventLabel:o,eventValue:1}]]}})),e(t)})})},loadStocks:function(t){var e=t.commit,n=t.dispatch;e(Tn),Rn("stocks").then(function(t){t&&(e(zn,{stocks:t}),n("tags/addTagByStocks",{stocks:t},{root:!0}),n("contributors/addContributorByStocks",{stocks:t},{root:!0})),e(En)}).catch(function(){e(Bn,{msg:"ローカルストレージの読み込みに失敗しました。"})})},fetchStocks:function(t,e){var n=t.commit,s=t.dispatch,a=e.userId,o=e.page,r=e.perPage;n(xn),xe.a.get("".concat(Ae,"/users/").concat(a,"/stocks"),{params:{page:o,per_page:r}}).then(function(t){Ut.a.isArray(t.data)&&t.data.length>0&&n(Ln,Ut.a.map(t.data,function(t){return Wn(t)})),s("tags/addTagByStocks",{stocks:t.data},{root:!0}),s("contributors/addContributorByStocks",{stocks:t.data},{root:!0}),n(An)}).catch(function(t){t.msg="Qiita APIへの接続に失敗しました。",n(On)})},setOrderType:function(t,e){var n=t.commit,s=e.orderType;n(Pn,{orderType:s})}},Vn=(n("MfeA"),{all:function(t){return t.all},fetching:function(t){return t.fetching},loading:function(t){return t.loading},error:function(t){return t.error},msg:function(t){return t.msg},orderType:function(t){return t.orderType},sortedAll:function(t,e,n,s){var a=e.all,o=e.orderType,r=s["tags/selectedTags"],c=s["contributors/selectedContributors"],i=s["search/word"],l=a;if(r.length>0&&(l=Ut()(l).filter(function(t){var e=!1;return Ut.a.each(r,function(n){if(Ut.a.findIndex(t.tags,function(t){return t.name===n.name})>=0)return e=!0,!1}),e}).value()),c.length>0&&(l=Ut()(l).filter(function(t){var e=!1;return Ut.a.each(c,function(n){if(t.user.id===n.id)return e=!0,!1}),e}).value()),""!==i){var u=new RegExp(i,"gi");l=Ut()(l).filter(function(t){var e=t.title.match(u),n=t.rendered_body.match(u);return e||n}).value()}switch(o){case"1":l=Ut.a.orderBy(l,["created_at"],["desc"]);break;case"2":l=Ut.a.orderBy(l,["likes_count"],["desc"]);break;case"3":l=Ut.a.orderBy(l,["comments_count"],["desc"]);break;default:break}return l}}),Hn={namespaced:!0,state:wn,mutations:Nn,actions:Mn,getters:Vn},Dn={userId:null,loading:!1},Jn="set_user_id",Xn="load_storage",Yn="load_storage_success",Gn="load_storage_fail",Zn=($n={},Sn()($n,Jn,function(t,e){var n=e.userId;t.userId=n}),Sn()($n,Xn,function(t){t.loading=!0}),Sn()($n,Yn,function(t){t.loading=!1}),Sn()($n,Gn,function(t){t.loading=!1}),$n),Kn={loadUserId:function(t){var e=t.commit;return e(Xn),Rn("userId").then(function(t){return e(Jn,{userId:t}),Promise.resolve(t)}).catch(function(t){return t.msg="ユーザーIDのロードに失敗しました。",Promise.reject(t)})},setUserId:function(t,e){var n=t.commit,s=e.userId;return n(Xn),Un("userId",s).then(function(t){return n(Jn,{userId:s}),Promise.resolve(t)}).catch(function(t){return t.msg="ユーザーIDの保存に失敗しました。",Promise.reject(t)})}},Qn={userId:function(t){return t.userId}},ts={namespaced:!0,state:Dn,mutations:Zn,actions:Kn,getters:Qn},es={namespaced:!0,state:{loading:!1,msg:""},mutations:{loading_start:function(t){t.loading=!0},loading_end:function(t){t.loading=!1},set_msg:function(t,e){var n=e.msg;t.msg=n},remove_msg:function(t){t.msg=""}},actions:{startLoading:function(t,e){var n=t.commit,s=e.msg;n("loading_start"),s&&n("set_msg",{msg:s})},stopLoading:function(t){var e=t.commit;e("loading_end"),e("remove_msg")},setMsg:function(t,e){var n=t.commit,s=e.msg;n("set_msg",{msg:s})},removeMsg:function(t){var e=t.commit;e("remove_msg")}},getters:{msg:function(t){return t.msg},loading:function(t){return t.loading}}},ns={namespaced:!0,state:{all:[]},mutations:{add_tag:function(t,e){var n=e.tag;t.all.push(n)},count_up:function(t,e){var n=e.targetIndex,s=e.stock;t.all[n].hasStocks.push(s.id)},select_tag:function(t,e){var n=e.targetIndex;s["a"].set(t.all,n,c()({},t.all[n],{selected:!0}))},deselect_tag:function(t,e){var n=e.targetIndex;s["a"].set(t.all,n,c()({},t.all[n],{selected:!1}))}},actions:{addTag:function(t,e){var n=t.state,s=t.commit,a=e.tag,o=e.stock,r=Ut.a.findIndex(n.all,function(t){return t.name===a.name});if(r<0)a.hasStocks=[o.id],a.selected=!1,s("add_tag",{tag:a});else{var c=n.all[r];Ut.a.findIndex(c.hasStocks,function(t){return t===o.id})<0&&s("count_up",{targetIndex:r,stock:o})}},addTagByStocks:function(t,e){var n=t.dispatch,s=e.stocks;Ut.a.each(s,function(t){Ut.a.isArray(t.tags)&&t.tags.length>0&&Ut.a.each(t.tags,function(e){n("addTag",{tag:e,stock:t})})})},toggleSelected:function(t,e){var n=t.state,s=t.commit,a=e.tag,o=Ut.a.findIndex(n.all,function(t){return t.name===a.name});n.all[o].selected?s("deselect_tag",{targetIndex:o}):s("select_tag",{targetIndex:o})}},getters:{all:function(t){return Ut.a.orderBy(t.all,[function(t){return t.hasStocks.length}],["desc"])},top10:function(t,e){return Ut()(e.all).orderBy([function(t){return t.hasStocks.length}],["desc"]).take(10).value()},selectedTags:function(t){return Ut.a.filter(t.all,function(t){return t.selected})}}},ss={namespaced:!0,state:{all:[]},mutations:{add_contributor:function(t,e){var n=e.contributor;t.all.push(n)},count_up:function(t,e){var n=e.targetIndex,s=e.stock;t.all[n].hasStocks.push(s.id)},select_contributor:function(t,e){var n=e.targetIndex;s["a"].set(t.all,n,c()({},t.all[n],{selected:!0}))},deselect_contributor:function(t,e){var n=e.targetIndex;s["a"].set(t.all,n,c()({},t.all[n],{selected:!1}))}},actions:{addContributor:function(t,e){var n=t.state,s=t.commit,a=e.contributor,o=e.stock,r=Ut.a.findIndex(n.all,function(t){return t.id===a.id});if(r<0)a.hasStocks=[o.id],a.selected=!1,s("add_contributor",{contributor:a});else{var c=n.all[r];Ut.a.findIndex(c.hasStocks,function(t){return t===o.id})<0&&s("count_up",{targetIndex:r,stock:o})}},addContributorByStocks:function(t,e){var n=t.dispatch,s=e.stocks;Ut.a.each(s,function(t){n("addContributor",{contributor:t.user,stock:t})})},toggleSelected:function(t,e){var n=t.state,s=t.commit,a=e.contributor,o=Ut.a.findIndex(n.all,function(t){return t.id===a.id});o>=0&&(n.all[o].selected?s("deselect_contributor",{targetIndex:o}):s("select_contributor",{targetIndex:o}))}},getters:{all:function(t){return Ut.a.orderBy(t.all,[function(t){return t.hasStocks.length}],["desc"])},top10:function(t,e){return Ut()(e.all).orderBy([function(t){return t.hasStocks.length}],["desc"]).take(8).value()},selectedContributors:function(t){return Ut.a.filter(t.all,function(t){return t.selected})}}},as={namespaced:!0,state:{word:""},mutations:{update_word:function(t,e){var n=e.word;t.word=n}},actions:{updateWord:function(t,e){var n=t.commit,s=e.word;n("update_word",{word:s})}},getters:{word:function(t){return t.word}}};s["a"].use(i["a"]);var os=new i["a"].Store({modules:{stocks:Hn,user:ts,loading:es,tags:ns,contributors:ss,search:as},plugins:[a["analyticsMiddleware"]]}),rs=n("ydGU");Object(rs["a"])("".concat("/stoqii/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),s["a"].config.productionTip=!1,s["a"].use(o.a,{id:"UA-119223294-1",router:Cn}),jn({store:os}),new s["a"]({store:os,router:Cn,render:function(t){return t(Nt)}}).$mount("#app")},UDPI:function(t,e,n){t.exports=n.p+"img/icon_comment_alt.d19d2f40.svg"},X5gp:function(t,e){},Z1sa:function(t,e,n){t.exports=n.p+"img/icon_refresh_alt.7890cf77.svg"},ZCG9:function(t,e){},dunn:function(t,e){},gL1c:function(t,e){},iFJr:function(t,e){},o2in:function(t,e){},pHSY:function(t,e){},uslO:function(t,e,n){var s={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function a(t){return n(o(t))}function o(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}a.keys=function(){return Object.keys(s)},a.resolve=o,t.exports=a,a.id="uslO"},x73w:function(t,e){},xR8I:function(t,e,n){t.exports=n.p+"img/icon_like.3c2f52ab.svg"},xYZR:function(t,e){}},[0]);
//# sourceMappingURL=app.3784cec3.js.map