webpackJsonp([1],{"+pJl":function(t,e){},"+vNH":function(t,e){},"/67t":function(t,e){},0:function(t,e,s){t.exports=s("NHnr")},"6YfV":function(t,e){},G3BA:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("/5sW"),a=s("Biqn"),o=s.n(a),r=s("NYxO"),c={methods:o()({},Object(r["b"])("stocks",["loadStocks","fetchAllStocks"]),{onClick:function(){this.fetchAllStocks({userId:this.userId})}}),computed:o()({},Object(r["c"])("user",["userId"]),Object(r["c"])("stocks",["fetching","loading","all","error","msg"]))},i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",[s("h1",{staticClass:"logo"},[t._v("Stoqii.")]),"Welcome"!==t.$route.name&&"Error"!==t.$route.name?[t.fetching?[s("p",{staticClass:"reload"},[t._v("Fetching...")])]:t.loading?[s("p",{staticClass:"reload"},[t._v("Loading...")])]:[s("a",{staticClass:"reload",attrs:{href:"javascript:;"},on:{click:t.onClick}},[t._v("Reload Stocks")])]]:t._e()],2)},l=[],u=s("XyMi");function d(t){s("/67t")}var f=!1,g=d,m="data-v-f06778c6",h=null,v=Object(u["a"])(c,i,l,f,g,m,h),p=v.exports,b={props:["tag"],computed:{className:function(){var t=["tag"];return this.tag.selected&&t.push("selected"),t}},methods:o()({},Object(r["b"])("tags",["toggleSelected"]),{onClick:function(){this.toggleSelected({tag:this.tag})}})},j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{class:t.className,attrs:{href:"javascript:;"},on:{click:t.onClick}},[t._v(t._s(t.tag.name)+"("+t._s(t.tag.hasStocks.length)+")")])},_=[];function k(t){s("+vNH")}var w=!1,I=k,C="data-v-7549f917",S=null,y=Object(u["a"])(b,j,_,w,I,C,S),x=y.exports,A={data:function(){return{showAll:!1}},components:{BaseTag:x},computed:o()({},Object(r["c"])("tags",["all","top10"]),{tags:function(){return this.showAll?this.all:this.top10},showAllText:function(){return this.showAll?"Hide":"Show All Tags"}}),methods:{onClickToggleShowAll:function(){this.showAll=!this.showAll}}},O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"unit-tags"},[s("transition-group",{attrs:{name:"fade"}},t._l(t.tags,function(t){return s("base-tag",{key:t.name,attrs:{tag:t}})}))],1),s("div",{staticClass:"show-all"},[this.all.length>10?s("a",{attrs:{href:"javascript:;"},on:{click:t.onClickToggleShowAll}},[t._v(t._s(t.showAllText))]):t._e()])])},E=[];function z(t){s("sqSh")}var N=!1,B=z,P="data-v-7bd8e8e7",T=null,q=Object(u["a"])(A,O,E,N,B,P,T),U=q.exports,R={props:["contributor"],computed:{className:function(){var t=["contributor"];return this.contributor.selected&&t.push("selected"),t}},methods:o()({},Object(r["b"])("contributors",["toggleSelected"]),{onClick:function(){this.toggleSelected({contributor:this.contributor})}})},W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{class:t.className,attrs:{href:"javascript:;"},on:{click:t.onClick}},[s("span",{staticClass:"ph",style:{"background-image":"url("+t.contributor.profile_image_url+")"}}),s("span",{staticClass:"name"},[t._v("\n    "+t._s(t.contributor.name?t.contributor.name:t.contributor.id)+"("+t._s(t.contributor.hasStocks.length)+")\n  ")])])},H=[];function M(t){s("PYuJ")}var L=!1,F=M,$="data-v-2dac6d8b",Y=null,J=Object(u["a"])(R,W,H,L,F,$,Y),D=J.exports,X={data:function(){return{showAll:!1}},components:{Contributor:D},computed:o()({},Object(r["c"])("contributors",["all","top10"]),{showAllText:function(){return this.showAll?"Hide":"Show All Contributors"},contributors:function(){return this.showAll?this.all:this.top10}}),methods:{onClickToggleShowAll:function(){this.showAll=!this.showAll}}},V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"unit-contributors"},t._l(t.contributors,function(t){return s("contributor",{key:t.id,attrs:{contributor:t}})})),s("div",{staticClass:"show-all"},[this.all.length>10?s("a",{attrs:{href:"javascript:;"},on:{click:t.onClickToggleShowAll}},[t._v(t._s(t.showAllText))]):t._e()])])},G=[];function Z(t){s("x73w")}var Q=!1,K=Z,tt="data-v-65891dba",et=null,st=Object(u["a"])(X,V,G,Q,K,tt,et),nt=st.exports,at={data:function(){return{searchWord:""}},components:{UnitTags:U,UnitContributors:nt},computed:o()({},Object(r["c"])("search",["word"])),methods:o()({},Object(r["b"])("search",["updateWord"])),watch:{searchWord:function(t){this.updateWord({word:t})}},created:function(){this.searchWord=this.word}},ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sidebar"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchWord,expression:"searchWord"}],staticClass:"search",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.searchWord},on:{input:function(e){e.target.composing||(t.searchWord=e.target.value)}}}),s("div",{staticClass:"sidebar-row"},[s("h2",{staticClass:"sidebar-heading"},[t._v("- Tags")]),s("unit-tags")],1),s("div",{staticClass:"sidebar-row"},[s("h2",{staticClass:"sidebar-heading"},[t._v("- Contributors")]),s("unit-contributors")],1)])},rt=[];function ct(t){s("6YfV")}var it=!1,lt=ct,ut="data-v-74ffa177",dt=null,ft=Object(u["a"])(at,ot,rt,it,lt,ut,dt),gt=ft.exports,mt={data:function(){return{dots:"",loadingMsg:""}},computed:o()({},Object(r["c"])("loading",["loading","msg"])),watch:{dots:function(){""!==this.msg?this.loadingMsg=this.msg+this.dots:this.loadingMsg=""}},created:function(){var t=this;setInterval(function(){t.dots.length<3?t.dots+=".":t.dots=""},500)}},ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading"},[s("div",{staticClass:"loader"}),s("p",{staticClass:"message"},[t._v(t._s(t.loadingMsg))])])])},vt=[];function pt(t){s("+pJl")}var bt=!1,jt=pt,_t="data-v-1279b3b4",kt=null,wt=Object(u["a"])(mt,ht,vt,bt,jt,_t,kt),It=wt.exports,Ct={name:"app",components:{TheHeader:p,TheSidebar:gt,TheLoading:It}},St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"layout"},[s("the-header"),s("div",{staticClass:"contents"},["Welcome"!==t.$route.name&&"Error"!==t.$route.name?s("div",{staticClass:"side"},[s("the-sidebar")],1):t._e(),s("div",{staticClass:"main"},[s("router-view")],1)])],1),s("the-loading")],1)},yt=[];function xt(t){s("G3BA")}var At=!1,Ot=xt,Et=null,zt=null,Nt=Object(u["a"])(Ct,St,yt,At,Ot,Et,zt),Bt=Nt.exports,Pt=(s("VjuZ"),s("EuXz"),s("M4fF")),Tt=s.n(Pt),qt=s("/ocq"),Ut=s("PJh5"),Rt=s.n(Ut),Wt={props:["stock"],computed:{createAt:function(){return Rt()(this.stock.created_at).format("YYYY/MM/DD HH:mm")}}},Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"stock-item",attrs:{href:t.stock.url,target:"_blank"}},[s("div",{staticClass:"user"},[s("span",{staticClass:"ph",style:{"background-image":"url("+t.stock.user.profile_image_url+")"}}),s("span",{staticClass:"text"},[s("span",{staticClass:"name"},[t._v(t._s(t.stock.user.name?t.stock.user.name:t.stock.user.id))]),t._v("\n      "+t._s(t.createAt)+"\n    ")])]),s("p",{staticClass:"title"},[t._v(t._s(t.stock.title))])])},Mt=[];function Lt(t){s("UZqz")}var Ft=!1,$t=Lt,Yt="data-v-67285066",Jt=null,Dt=Object(u["a"])(Wt,Ht,Mt,Ft,$t,Yt,Jt),Xt=Dt.exports,Vt={props:["stocks"],components:{StockListItem:Xt}},Gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"stock-list"},[s("ul",t._l(t.stocks,function(t){return s("li",{key:t.id},[s("stock-list-item",{attrs:{stock:t}})],1)}))])},Zt=[];function Qt(t){s("RHax")}var Kt=!1,te=Qt,ee="data-v-9d4401fe",se=null,ne=Object(u["a"])(Vt,Gt,Zt,Kt,te,ee,se),ae=ne.exports,oe={name:"Home",components:{StockList:ae},methods:o()({},Object(r["b"])("stocks",["loadStocks"])),computed:o()({},Object(r["c"])("user",["userId"]),Object(r["c"])("stocks",["sortedAll","error","msg"])),created:function(){this.loadStocks()}},re=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("div",[s("p",{directives:[{name:"show",rawName:"v-show",value:t.error&&t.msg,expression:"error && msg"}]},[t._v(t._s(t.msg))])]),s("stock-list",{attrs:{stocks:t.sortedAll}})],1)},ce=[],ie=!1,le=null,ue=null,de=null,fe=Object(u["a"])(oe,re,ce,ie,le,ue,de),ge=fe.exports,me={name:"User"},he=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-setting"},[t._v("\n  user setting\n")])},ve=[],pe=!1,be=null,je=null,_e=null,ke=Object(u["a"])(me,he,ve,pe,be,je,_e),we=ke.exports,Ie=s("mtWM"),Ce=s.n(Ie),Se="https://qiita.com/api/v2",ye=100,xe="qiita-stock",Ae={namespaced:!0,state:{userId:"",isAvailable:!0,loading:!1,msg:""},mutations:{update_user_id:function(t,e){var s=e.userId;t.userId=s},set_available:function(t,e){var s=e.available,n=e.msg;t.isAvailable=s,t.msg=n},check_start:function(t){t.loading=!0},check_end:function(t){t.loading=!1}},actions:{updateUserId:function(t,e){var s=t.commit,n=e.userId;s("update_user_id",{userId:n})},checkUserId:function(t){var e=t.getters,s=t.commit,n=t.dispatch;s("check_start"),s("set_available",{available:!0,msg:""}),Ce.a.get("".concat(Se,"/users/").concat(e.userId)).then(function(t){t.data&&t.data.id&&n("user/setUserId",{userId:t.data.id},{root:!0}).then(function(){return n("loading/startLoading",{msg:"ストック記事取得中"},{root:!0}),n("stocks/fetchAllStocksWithPromise",{userId:t.data.id},{root:!0})}).then(function(){n("loading/stopLoading",null,{root:!0}),js.push("/")}).catch(function(t){n("loading/stopLoading",null,{root:!0}),t.available=!1,s("set_available",t)}),s("check_end")}).catch(function(t){n("loading/stopLoading",null,{root:!0}),t.response&&404===t.response.status?s("set_available",{available:!1,msg:"ユーザーIDが有効ではありませんでした。"}):s("set_available",{available:!1,msg:"Qiita APIへの接続に失敗しました。"}),s("check_end")})}},getters:{userId:function(t){return t.userId},isAvailable:function(t){return t.isAvailable},loading:function(t){return t.loading},msg:function(t){return t.msg}}},Oe={props:["disabled"],methods:{onClick:function(){this.disabled||this.$emit("click")}},computed:{className:function(){var t=["button"];return this.disabled&&t.push("disabled"),t}}},Ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{class:t.className,attrs:{href:"javascript:;"},on:{click:t.onClick}},[t._t("default")],2)},ze=[];function Ne(t){s("xYZR")}var Be=!1,Pe=Ne,Te="data-v-0ce8344a",qe=null,Ue=Object(u["a"])(Oe,Ee,ze,Be,Pe,Te,qe),Re=Ue.exports,We=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"unit-buttons"},[t._t("default")],2)},He=[];function Me(t){s("pHSY")}var Le=null,Fe=!1,$e=Me,Ye="data-v-da82a894",Je=null,De=Object(u["a"])(Le,We,He,Fe,$e,Ye,Je),Xe=De.exports,Ve="userForm",Ge={data:function(){return{uid:""}},components:{BaseButton:Re,UnitButtons:Xe},computed:o()({},Object(r["c"])(Ve,["userId","isAvailable","loading","msg"])),methods:o()({},Object(r["b"])(Ve,["updateUserId","checkUserId"]),{onSubmit:function(){this.checkUserId()}}),watch:{uid:function(t){this.updateUserId({userId:t})}},created:function(){this.$store.registerModule(Ve,Ae)},destroyed:function(){this.$store.unregisterModule(Ve)}},Ze=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"welcome"},[s("h1",[t._v("Welcome!")]),s("div",[t._m(0),s("form",{attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[s("div",{staticClass:"form-row"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.uid,expression:"uid"}],staticClass:"uid-input",attrs:{type:"text",placeholder:"ユーザーID"},domProps:{value:t.uid},on:{input:function(e){e.target.composing||(t.uid=e.target.value)}}})]),s("unit-buttons",[s("base-button",{attrs:{disabled:!t.userId},on:{click:t.onSubmit}},[t._v("登録")])],1),s("div",{staticClass:"feed-backs"},[s("p",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]},[t._v("Checking...")]),s("p",{directives:[{name:"show",rawName:"v-show",value:!t.isAvailable,expression:"!isAvailable"}],staticClass:"error"},[t._v(t._s(t.msg))])])],1)])])},Qe=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"lead"},[t._v("「Stoqii.」はQiitaのストック記事を簡単に検索するためのWebアプリケーションです。"),s("br"),t._v("ユーザーIDを入力してストック検索を始めましょう！")])}];function Ke(t){s("ct76")}var ts=!1,es=Ke,ss="data-v-5e2d2a0c",ns=null,as=Object(u["a"])(Ge,Ze,Qe,ts,es,ss,ns),os=as.exports,rs=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},cs=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"error"},[s("p",[t._v("エラーが発生しました。")])])}],is=null,ls=!1,us=null,ds=null,fs=null,gs=Object(u["a"])(is,rs,cs,ls,us,ds,fs),ms=gs.exports;n["a"].use(qt["a"]);var hs=[{path:"/",component:ge,name:"Home"},{path:"/user",component:we,name:"User"},{path:"/welcome",component:os,name:"Welcome"},{path:"/error",component:ms,name:"Error"}],vs=new qt["a"]({routes:hs});function ps(t){var e=t.store;vs.beforeEach(function(t,s,n){"Welcome"===t.name?Tt.a.isEmpty(e.state.user.userId)?e.dispatch("user/loadUserId").then(function(t){Tt.a.isEmpty(t)?n():vs.replace("/")}).catch(function(){vs.push("/error")}):vs.replace("/"):"Error"===t.name?n():Tt.a.isEmpty(e.state.user.userId)?e.dispatch("user/loadUserId").then(function(t){Tt.a.isEmpty(t)?vs.replace("/welcome"):n()}).catch(function(){vs.push("/error")}):n()})}var bs,js=vs,_s={all:[],fetching:!1,loading:!1,error:!1,msg:""},ks=s("fKPv"),ws=s.n(ks),Is=(s("U6qc"),"fetch_stocks_start"),Cs="fetch_stocks_success",Ss="fetch_stocks_fail",ys="load_stocks_start",xs="load_stocks_success",As="load_stocks_fail",Os="append_stocks",Es="append_stocks_from_storage",zs=(bs={},ws()(bs,Is,function(t){t.fetching=!0,t.error=!1,t.msg=""}),ws()(bs,Cs,function(t){t.fetching=!1}),ws()(bs,Ss,function(t,e){var s=e.msg;t.fetching=!1,t.error=!0,t.msg=s}),ws()(bs,ys,function(t){t.loading=!0,t.error=!1,t.msg=""}),ws()(bs,xs,function(t){t.loading=!1}),ws()(bs,As,function(t,e){var s=e.msg;t.loading=!1,t.error=!0,t.msg=s}),ws()(bs,Os,function(t,e){var s=e.stocks,n=t.all;Tt()(s).each(function(e,s){var a=Tt.a.findIndex(t.all,function(t){return t.id===e.id});a>=0?n[a]=o()({},n[a],e):n.splice(s,0,o()({},e,{stoqiiTags:[]}))}),t.all=n}),ws()(bs,Es,function(t,e){var s=e.stocks;t.all=s}),bs),Ns=(s("y9m4"),{ARRAY:"array",OBJECT:"object",NUMBER:"number",STRING:"string"});function Bs(t,e){var s="";return Tt.a.isArray(e)?s=Ns.ARRAY:Tt.a.isObject(e)?s=Ns.OBJECT:Tt.a.isNumber(e)?s=Ns.NUMBER:Tt.a.isString(e)&&(s=Ns.STRING),s!==Ns.ARRAY&&s!==Ns.OBJECT||(e=JSON.stringify(e)),new Promise(function(n,a){try{localStorage.setItem("".concat(xe,"_").concat(t),e),localStorage.setItem("".concat(xe,"_").concat(t,"_type"),s),n({key:"".concat(xe,"_").concat(t),val:e})}catch(t){console.log(t),a(t)}})}function Ps(t){return new Promise(function(e,s){try{var n=localStorage.getItem("".concat(xe,"_").concat(t)),a=localStorage.getItem("".concat(xe,"_").concat(t,"_type"));a!==Ns.ARRAY&&a!==Ns.OBJECT||(n=JSON.parse(n)),e(n)}catch(t){console.log(t),s(t)}})}function Ts(t){return delete t.body,delete t.coediting,delete t.group,delete t.private,delete t.user.facebook_id,delete t.user.followees_count,delete t.user.followers_count,delete t.user.github_login_name,delete t.user.items_count,delete t.user.linkedin_id,delete t.user.location,delete t.user.organization,delete t.user.permanent_id,delete t.user.twitter_screen_name,delete t.user.website_url,t.rendered_body=t.rendered_body.replace(/<("[^"]*"|'[^']*'|[^'">])*>/g,""),t.rendered_body=t.rendered_body.slice(0,99),t}function qs(t){var e=t.userId;return new Promise(function(t,s){var n=[];function a(o){var r=o.page,c=o.perPage;Ce.a.get("".concat(Se,"/users/").concat(e,"/stocks"),{params:{page:r,per_page:c}}).then(function(e){Tt.a.isArray(e.data)&&e.data.length>0?(n=n.concat(Tt.a.map(e.data,function(t){return Ts(t)})),a({page:r+1,perPage:c})):t(n)}).catch(function(t){t.msg="Qiita APIへの接続に失敗しました。",s(t)})}a({page:1,perPage:ye})})}var Us,Rs={fetchAllStocks:function(t,e){var s=t.state,n=t.commit,a=t.dispatch,o=e.userId;n(Is),a("loading/startLoading",{msg:"ストック記事再取得中"},{root:!0}),qs({userId:o}).then(function(t){n(Os,{stocks:t}),Bs("stocks",s.all).then(function(){a("loading/stopLoading",null,{root:!0}),a("tags/addTagByStocks",{stocks:t},{root:!0}),a("contributors/addContributorByStocks",{stocks:t},{root:!0}),n(Cs)}).catch(function(t){a("loading/stopLoading",null,{root:!0}),t.msg="ローカルストレージへの書き込みに失敗しました。"})}).catch(function(t){a("loading/stopLoading",null,{root:!0}),n(Ss,t)})},fetchAllStocksWithPromise:function(t,e){var s=t.state,n=t.commit,a=t.dispatch,o=e.userId;return new Promise(function(t,e){qs({userId:o}).then(function(o){n(Os,{stocks:o}),Bs("stocks",s.all).then(function(){a("tags/addTagByStocks",{stocks:o},{root:!0}),a("contributors/addContributorByStocks",{stocks:o},{root:!0}),t()}).catch(function(t){t.msg="ローカルストレージへの書き込みに失敗しました。",e(t)})}).catch(function(t){e(t)})})},loadStocks:function(t){var e=t.commit,s=t.dispatch;e(ys),Ps("stocks").then(function(t){t&&(e(Es,{stocks:t}),s("tags/addTagByStocks",{stocks:t},{root:!0}),s("contributors/addContributorByStocks",{stocks:t},{root:!0})),e(xs)}).catch(function(){e(As,{msg:"ローカルストレージの読み込みに失敗しました。"})})},fetchStocks:function(t,e){var s=t.commit,n=t.dispatch,a=e.userId,o=e.page,r=e.perPage;s(Is),Ce.a.get("".concat(Se,"/users/").concat(a,"/stocks"),{params:{page:o,per_page:r}}).then(function(t){Tt.a.isArray(t.data)&&t.data.length>0&&s(Os,Tt.a.map(t.data,function(t){return Ts(t)})),n("tags/addTagByStocks",{stocks:t.data},{root:!0}),n("contributors/addContributorByStocks",{stocks:t.data},{root:!0}),s(Cs)}).catch(function(t){t.msg="Qiita APIへの接続に失敗しました。",s(Ss)})}},Ws=(s("MfeA"),{all:function(t){return t.all},fetching:function(t){return t.fetching},loading:function(t){return t.loading},error:function(t){return t.error},msg:function(t){return t.msg},sortedAll:function(t,e,s,n){var a=e.all,o=n["tags/selectedTags"],r=n["contributors/selectedContributors"],c=n["search/word"],i=a;if(o.length>0&&(i=Tt()(i).filter(function(t){var e=!1;return Tt.a.each(o,function(s){if(Tt.a.findIndex(t.tags,function(t){return t.name===s.name})>=0)return e=!0,!1}),e}).value()),r.length>0&&(i=Tt()(i).filter(function(t){var e=!1;return Tt.a.each(r,function(s){if(t.user.id===s.id)return e=!0,!1}),e}).value()),""!==c){var l=new RegExp(c,"gi");i=Tt()(i).filter(function(t){var e=t.title.match(l),s=t.rendered_body.match(l);return e||s}).value()}return i}}),Hs={namespaced:!0,state:_s,mutations:zs,actions:Rs,getters:Ws},Ms={userId:null,loading:!1},Ls="set_user_id",Fs="load_storage",$s="load_storage_success",Ys="load_storage_fail",Js=(Us={},ws()(Us,Ls,function(t,e){var s=e.userId;t.userId=s}),ws()(Us,Fs,function(t){t.loading=!0}),ws()(Us,$s,function(t){t.loading=!1}),ws()(Us,Ys,function(t){t.loading=!1}),Us),Ds={loadUserId:function(t){var e=t.commit;return e(Fs),Ps("userId").then(function(t){return e(Ls,{userId:t}),Promise.resolve(t)}).catch(function(t){return t.msg="ユーザーIDのロードに失敗しました。",Promise.reject(t)})},setUserId:function(t,e){var s=t.commit,n=e.userId;return s(Fs),Bs("userId",n).then(function(t){return s(Ls,{userId:n}),Promise.resolve(t)}).catch(function(t){return t.msg="ユーザーIDの保存に失敗しました。",Promise.reject(t)})}},Xs={userId:function(t){return t.userId}},Vs={namespaced:!0,state:Ms,mutations:Js,actions:Ds,getters:Xs},Gs={namespaced:!0,state:{loading:!1,msg:""},mutations:{loading_start:function(t){t.loading=!0},loading_end:function(t){t.loading=!1},set_msg:function(t,e){var s=e.msg;t.msg=s},remove_msg:function(t){t.msg=""}},actions:{startLoading:function(t,e){var s=t.commit,n=e.msg;s("loading_start"),n&&s("set_msg",{msg:n})},stopLoading:function(t){var e=t.commit;e("loading_end"),e("remove_msg")},setMsg:function(t,e){var s=t.commit,n=e.msg;s("set_msg",{msg:n})},removeMsg:function(t){var e=t.commit;e("remove_msg")}},getters:{msg:function(t){return t.msg},loading:function(t){return t.loading}}},Zs={namespaced:!0,state:{all:[]},mutations:{add_tag:function(t,e){var s=e.tag;t.all.push(s)},count_up:function(t,e){var s=e.targetIndex,n=e.stock;t.all[s].hasStocks.push(n.id)},select_tag:function(t,e){var s=e.targetIndex;n["a"].set(t.all,s,o()({},t.all[s],{selected:!0}))},deselect_tag:function(t,e){var s=e.targetIndex;n["a"].set(t.all,s,o()({},t.all[s],{selected:!1}))}},actions:{addTag:function(t,e){var s=t.state,n=t.commit,a=e.tag,o=e.stock,r=Tt.a.findIndex(s.all,function(t){return t.name===a.name});if(r<0)a.hasStocks=[o.id],a.selected=!1,n("add_tag",{tag:a});else{var c=s.all[r];Tt.a.findIndex(c.hasStocks,function(t){return t===o.id})<0&&n("count_up",{targetIndex:r,stock:o})}},addTagByStocks:function(t,e){var s=t.dispatch,n=e.stocks;Tt.a.each(n,function(t){Tt.a.isArray(t.tags)&&t.tags.length>0&&Tt.a.each(t.tags,function(e){s("addTag",{tag:e,stock:t})})})},toggleSelected:function(t,e){var s=t.state,n=t.commit,a=e.tag,o=Tt.a.findIndex(s.all,function(t){return t.name===a.name});s.all[o].selected?n("deselect_tag",{targetIndex:o}):n("select_tag",{targetIndex:o})}},getters:{all:function(t){return Tt.a.orderBy(t.all,[function(t){return t.hasStocks.length}],["desc"])},top10:function(t,e){return Tt()(e.all).orderBy([function(t){return t.hasStocks.length}],["desc"]).take(10).value()},selectedTags:function(t){return Tt.a.filter(t.all,function(t){return t.selected})}}},Qs={namespaced:!0,state:{all:[]},mutations:{add_contributor:function(t,e){var s=e.contributor;t.all.push(s)},count_up:function(t,e){var s=e.targetIndex,n=e.stock;t.all[s].hasStocks.push(n.id)},select_contributor:function(t,e){var s=e.targetIndex;n["a"].set(t.all,s,o()({},t.all[s],{selected:!0}))},deselect_contributor:function(t,e){var s=e.targetIndex;n["a"].set(t.all,s,o()({},t.all[s],{selected:!1}))}},actions:{addContributor:function(t,e){var s=t.state,n=t.commit,a=e.contributor,o=e.stock,r=Tt.a.findIndex(s.all,function(t){return t.id===a.id});if(r<0)a.hasStocks=[o.id],a.selected=!1,n("add_contributor",{contributor:a});else{var c=s.all[r];Tt.a.findIndex(c.hasStocks,function(t){return t===o.id})<0&&n("count_up",{targetIndex:r,stock:o})}},addContributorByStocks:function(t,e){var s=t.dispatch,n=e.stocks;Tt.a.each(n,function(t){s("addContributor",{contributor:t.user,stock:t})})},toggleSelected:function(t,e){var s=t.state,n=t.commit,a=e.contributor,o=Tt.a.findIndex(s.all,function(t){return t.id===a.id});o>=0&&(s.all[o].selected?n("deselect_contributor",{targetIndex:o}):n("select_contributor",{targetIndex:o}))}},getters:{all:function(t){return Tt.a.orderBy(t.all,[function(t){return t.hasStocks.length}],["desc"])},top10:function(t,e){return Tt()(e.all).orderBy([function(t){return t.hasStocks.length}],["desc"]).take(8).value()},selectedContributors:function(t){return Tt.a.filter(t.all,function(t){return t.selected})}}},Ks={namespaced:!0,state:{word:""},mutations:{update_word:function(t,e){var s=e.word;t.word=s}},actions:{updateWord:function(t,e){var s=t.commit,n=e.word;s("update_word",{word:n})}},getters:{word:function(t){return t.word}}};n["a"].use(r["a"]);var tn=new r["a"].Store({modules:{stocks:Hs,user:Vs,loading:Gs,tags:Zs,contributors:Qs,search:Ks}}),en=s("ydGU");Object(en["a"])("".concat("/stoqii/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),n["a"].config.productionTip=!1,ps({store:tn}),new n["a"]({store:tn,router:js,render:function(t){return t(Bt)}}).$mount("#app")},PYuJ:function(t,e){},RHax:function(t,e){},UZqz:function(t,e){},ct76:function(t,e){},pHSY:function(t,e){},sqSh:function(t,e){},uslO:function(t,e,s){var n={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function a(t){return s(o(t))}function o(t){var e=n[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}a.keys=function(){return Object.keys(n)},a.resolve=o,t.exports=a,a.id="uslO"},x73w:function(t,e){},xYZR:function(t,e){}},[0]);
//# sourceMappingURL=app.85eb3bc4.js.map